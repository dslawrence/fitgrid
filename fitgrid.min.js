window.fitgrids=[];window.fitgrid_run_needed=0;
(function(g){g.fn.fitgrid=function(p){var d=this;d.meta={};var a=d.meta;d.grid_active=!1;a.gutter_percentage=0.1;a.default_font=12;a.font_factor=28;a.base_width_units=12;a.width_units=a.base_width_units;a.base_height_units=10;a.height_units=a.base_height_units;a.dimension_sets=["m",""];a.dimension_sets_auto=0;a.vertical_center=1;a.show_gutter=1;a.pre_calculations=function(){};a.post_calculations=function(){};a.pre_render=function(){};a.post_render=function(){};a.phone_enabled=!0;a.tablet_enabled=
!0;a.big_enabled=!0;a.show_grid_overlay=!1;a.minimum_height_ratio=0.8;a.maximum_height_ratio=1.14;d.expressions={font:/font([\.\d]+)/,size:/([\.\d]+p*)x([p*\.\d]+p*)/,zoom:/^zoom([\.\d]+)/,x_gutter:/x_gutter(_*\w*)/,y_gutter:/y_gutter(_*\w*)/,left_space:/left_space_([\.\d]+)/,right_space:/right_space_([\.\d]+)/,top_space:/top_space_([\.\d]+)/,left_overflow:/left_overflow(_*\w*)/,right_overflow:/right_overflow(_*\w*)/,vertical_center:/vertical_center(_*\w*)/,visible:/visible(_*\w*)/,newline:/newline(_*\w*)/};
if(p)for(var q in a)void 0!=p[q]&&(a[q]=p[q]);d.f={};0==g(".fitgrid_clone_space").length&&g("body").append('<div class="fitgrid_clone_space" style="width:98%;height:98%;position:absolute;top:0px;left:0px;"></div>');var n=g(".fitgrid_clone_space");d.grid_off=function(){d.grid_active&&(g("#grid_show").remove(),d.grid_active=!1)};d.grid_on=function(){d.grid_active&&g("#grid_show").remove();for(var e="",b=1,c=0;400>c;c++)0==b%a.width_units?(e+='<div class="grid_block no_right_margin" style="border:1px solid red;float:left;">'+
b+"</div>",e+="<br clear='all'/>",b=0):e+='<div class="grid_block right_margin" style="border:1px solid red;float:left;">'+b+"</div>",b++;g("body").append('<div id="grid_show" style="position:absolute;z-index:9999;top:0;left:0;overflow:hidden;opacity:0.2;border:1px solid blue;">'+e+"</div>");e=d.offset();g("#grid_show").width(a.width);g("#grid_show").height(a.height);g("#grid_show").offset(e);g(".grid_block").css({width:a.block_width-2,height:a.block_height-2,"margin-right":a.block_gutter,"margin-bottom":a.block_gutter});
g(".no_right_margin").css({"margin-right":0});g("#grid_show").on("click",".grid_block",function(){d.grid_off()});d.grid_active=!0};d.run=function(){n.show();a.width=d.width();a.height=d.height();a.set_id="";a.fallback_set_id="";a.dimension_sets=[""];a.size="normal";a.width_units=a.base_width_units;a.dimension_sets_auto&&(a.phone_enabled&&481>a.width?(a.dimension_sets=["","p"],a.size="phone",a.width_units=Math.round(0.5*a.base_width_units)):a.tablet_enabled&&768>a.width?(a.dimension_sets=["","t"],
a.size="tablet",a.width_units=Math.round(0.7*a.base_width_units)):a.big_enabled&&1199<a.width&&(a.dimension_sets=["","b"],a.size="big",a.width_units=Math.round(1.5*a.base_width_units)));a.pre_calculations(d);a.block_height=a.height/a.height_units;a.block_width=a.width/a.width_units;a.height_ratio=a.block_height/a.block_width;0<a.minimum_height_ratio&&a.height_ratio<a.minimum_height_ratio&&(a.block_height=a.block_width*a.minimum_height_ratio,a.height_ratio=a.height/a.width);0<a.maximum_height_ratio&&
a.height_ratio>a.maximum_height_ratio&&(a.block_height=a.block_width*a.maximum_height_ratio,a.height_ratio=a.height/a.width);a.block_gutter=a.block_width*a.gutter_percentage;a.block_width=Math.round(a.block_width-a.block_gutter+a.block_gutter/a.width_units);Math.floor(a.block_width*a.width_units+a.block_gutter*(a.width_units-1))>d.width()&&(a.block_width-=1);a.block_height=Math.round(a.block_height-a.block_gutter+a.block_gutter/a.height_units);a.block_right_half_gutter=Math.round(a.block_gutter/2);
a.block_gutter=Math.floor(a.block_gutter);a.block_left_half_gutter=a.block_gutter-a.block_right_half_gutter;a.default_font_setting=Math.round(a.default_font*a.block_height/a.font_factor);a.actual_width=a.block_width*a.width_units+a.block_gutter*(a.width_units-1);var e=a.width-a.actual_width;a.pane_horizontal_border=Math.floor(e/2);a.actual_height=a.block_height*a.height_units+a.block_gutter*(a.height_units-1);e=a.height-a.actual_height;a.pane_vertical_border=Math.floor(e/2);a.dimension_set_finders=
[];for(var b=0;b<a.dimension_sets.length;b++){var c=a.dimension_sets[b];""!=c&&(c+=".");a.dimension_set_finders[b]=c}d.meta.post_calculations(d);d.meta.pre_render(d);d.css({"padding-left":a.pane_horizontal_border,"padding-top":a.pane_vertical_border});f=d.f;for(var j in d.expressions)f[j]=[];f.all=[];var p=function(b,c){var e={target:g(b)};if(b.className&&b.className.match(/fg/)){for(var j=b.className.split(" "),n=[],r=0;r<a.dimension_set_finders.length;r++){0<r&&(j=n);var q={},h;for(h in d.expressions)q[h]=
1;for(var s=0;s<j.length;s++){var k=j[s];if("gpbox"!=k){var l=k.substring(0,2),u=k.substring(2,1),t=a.dimension_set_finders[r];if(""==t&&"."==u&&!(0<l))n.push(j[s]);else if(""==t||l==t){""!=t&&(k=k.substring(2,k.length));for(var m in q)if(l=k.match(d.expressions[m])){l.shift();k={target:b,data:l};"font"!=m&&("size"!=m&&"zoom"!=m&&"left_space"!=m&&"right_space"!=m&&"top_space"!=m)&&"_off"!=l[0]&&(l[0]=1);f[m].push(k);if(1<l.length){if("size"==m)for(h=0;2>h;h++)(k=l[h].match(/([\\.\d]+)p/))&&k[1]&&
(l[h]=c.size[h]?Math.floor(c.size[h]*k[1]):Math.floor(a.width_unit*k[1]));e[m]=l}else e[m]=l[0];break}}}}}for(h in c)if(void 0==e[h]&&("font"==h||"size"==h))e[h]=c[h];f.all.push(e)}g(b).children("*").each(function(){p(this,e)})};d.children("*").each(function(){p(this,{})});g(".gprow").css({height:a.block_gutter});for(j=0;j<f.all.length;j++){b=f.all[j];c={};b.zoom&&(b.size[0]*=b.zoom,b.size[1]*=b.zoom,b.font*=b.zoom);void 0!=b.visible&&("_off"==b.visible?b.target.hide():b.target.show());b.size&&(c.width=
Math.floor(b.size[0]*d.meta.block_width+d.meta.block_gutter*(b.size[0]-1)),e=1*b.target.css("border-left-width").replace(/px/,"")+1*b.target.css("border-right-width").replace(/px/,""),c.width=Math.floor(b.size[0]*d.meta.block_width+d.meta.block_gutter*(b.size[0]-1)-e),e=1*b.target.css("border-top-width").replace(/px/,"")+1*b.target.css("border-bottom-width").replace(/px/,""),c.height=Math.floor(b.size[1]*d.meta.block_height+(b.size[1]-1)*d.meta.block_gutter-e));b.right_overflow&&"_off"!=b.right_overflow&&
(c.width+=a.block_right_half_gutter);b.left_overflow&&"_off"!=b.left_overflow&&(c.width+=a.block_left_half_gutter);c["font-size"]=b.font?Math.round(b.font*a.block_height/a.font_factor):a.default_font_setting;1==b.newline&&(c.clear="both");if(a.show_gutter&&"_off"==b.x_gutter||b.right_overflow&&"_off"!=b.right_overflow)c["margin-right"]="0";else if(a.show_gutter||"_off"!=b.x_gutter)c["margin-right"]=a.block_gutter;b.top_space&&0<b.top_space&&(c["margin-top"]||(c["margin-top"]=0),c["margin-top"]+=d.meta.block_height*
b.top_space);b.right_space&&0<b.right_space&&(c["margin-right"]||(c["margin-right"]=0),c["margin-right"]+=(d.meta.block_width+a.block_gutter)*b.right_space);b.left_space&&0<b.left_space&&(c["margin-left"]||(c["margin-left"]=0),c["margin-left"]+=(d.meta.block_width+a.block_gutter)*b.left_space);if(a.show_gutter&&"_off"==b.y_gutter)c["margin-bottom"]="0";else if(a.show_gutter||"off"!=b.y_gutter)c["margin-bottom"]=a.block_gutter;b.target.css(c)}for(j=0;j<f.all.length;j++)if(b=f.all[j],void 0==b.visible||
"_off"!=b.visible)if(a.vertical_center&&"_off"!=b.vertical_center||"_off"!=b.vertical_center)c=b.target.get(0).nodeName,"INPUT"!=c&&"SELECT"!=c&&((e=b.target.html().replace(/padding-top: .*?;/,""))||(e="9"),c=b.target.height(),b.target.width(),n.html(b.target.clone()),n.find(":first").html('<div class="the_aligner" style="position:relative;">'+e+'<div style="clear:both;"></div></div>'),n.show(),e=g(".the_aligner").height(),e=Math.floor((c-e)/2),n.hide(),0<e&&b.target.css({"padding-top":e,height:c-
e}));d.meta.post_render(d);a.show_grid_overlay&&d.grid_on()};n.html("");n.hide();window.fitgrids.push(d);d.run();return d}})(jQuery);$(function(){setInterval(function(){window.fitgrid_run_needed&&(run_all_fitgrids(),window.fitgrid_run_needed=0)},10);$(window).bind("orientationchange resize",function(){for(var g=0;g<window.fitgrids.length;g++)window.fitgrids[g].hide();window.fitgrid_run_needed=1})});
function run_all_fitgrids(){for(var g=0;g<window.fitgrids.length;g++)window.fitgrids[g].show(),window.fitgrids[g].run()};
